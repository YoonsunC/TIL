L2, L3 - 허브

L4 - 부하분산장치 (네트워크_ TCP/IP, UDP)

L7 - 부하분산장치

3개의 IP를 빼고 사용할 수 있음(254->251(o))  

인터넷 -> 라우터(기가비트의 속도로 오기때문에 전화선으로는 한계 / 광섬유케이블 이용) ->L3 스위치

전력선 통신 - PLC 통신(초인종누르면 화면뜨는거) - 보통 전력공사에서 주로 함 (특정한 용도로 쓰일 뿐 일반적 통신에는 잘 안씀)

광케이블 - 두개의 선으로 통신 광이기 때문에 케이블이 아닌 빛으로 감, 우리가 쓰는 기가인터넷이 광케이블로 함


요즘엔 AP(Access Point)보안을 신경씀 스위치는 꽂아야 내꺼, AP는 잡으면 내꺼기 때문에 해킹에 약간 용이

인터넷 ->고객이 사용하는 영역  
인터넷 -> 내부 직원 영역  
영역을 나눠서 사용하는 것을 권장

이전 금융권 실습에서 VPC를 나눴던 것도 같은 원리. 피어링 연결을 한다고 해도

내부->고객시스템 영역 (o), 고객->내부시스템 영역(x)로 정책설정을 하면 됨  
  

VPC영역을 두개로 나눌때 인터넷이 들어오는 건 public 영역이 있어야 하고,

이 퍼블릭 영역을 통해 내부에 들어올 수 있어야 함

실제 인터넷에 있는 고객은 VPC1, 직원은 VPC2의 VPN을 통해 어디로 갈지 경로 결정

고객 -> 게이트웨이 -> 라우터 -> 인터넷이 되는 서브넷

직원 -> 게이트웨이 -> 라우터 -> VPN 장치나 S/W 확인(이때 내부 직원에게 IP할당/C, B클래스 사설IP) -> 기능들 선택(IAM에 ID,PW 인증할 수 있는 인증서  주고 신분확인) -> 조건 맞으면 서브넷 이동

A클래스 IP를 사용하는 이유 -> VPN연결할 때 B,C클래스 사설IP를 사용하기 때문에 충돌이 일어날 수 있음

 

VPN서비스 -> AWS에서 사용하는 사설 인증서가 금액에 포함되어야 함(계산서 및 구성도에 추가)

 

로드밸런서 - 일을 누가해야한다고 규칙을 정해서 일을 전달시켜 처리하도록 하는 것

 

스케일 아웃, 스케일 업 -> 가용성

클러스터링, 복제 -> 고가용성

가용성은 스케일 업, 아웃이 있음

가용성 -> 성능 부족을 해결하기 위해

스케일 up - 하드웨어 성능 높이기

스케일 out - 서버 늘리기 (Auto Scaling)

고가용성 -> 하드웨어의 고장을 대비한 것 (보험) (클러스터링 복제)

 

가용성 + 고가용성 => 가용영역

  ㄴ목적 : 24시간 시스템 죽지 않고 서비스를 하기 위해

RDS는 고가용성 & 가용영역 (AZ(영역)1, AZ2를 했기 때문에)

 

로드 밸런서 종류

NLB(Nework Load Balancer) - 휘발성으로 초당 수백만개 네트워크 트래픽 쿼리 고정 IP지원

  ㄴ 네트워크, 전송계층

ALB(Application Load Balancer) - path-based / 라우트 기반 부하분산 / 패킷을 열어서 보고 경로 결정(도메인주소 필요) -> 퍼블릭 영역 꼭 필요 , IP요구하지 않음. 요즘

  ㄴ 표현 계층

수동으로 NLB만들 때 순서

: 시작 템플릿 -> 오토스케일 그룹(대상그룹,ELB생성X) -> ㄷ사그룹 생성(오토스케일 그룹에 의해 생성된 인스턴스를 타겟으로 지정) -> NLB 수동생성  

ALB를 할 때에는 인증서도 있어야 하지만 해당되는 리전 안에 VPC안에 게이트웨이,라우터로 들어온 뒤에 ALB로 붙기 위해서는 public서브넷이 있어야 하고 다음에 프라이빗 서브넷으로 간다.

이쪽에서 ALB는 AZ1, 프라이빗서브넷도 AZ1이면 안됨

ALB 하기위한 조건 : 퍼블릭 서브넷, AZ 2개

네트워크 최전방에 있기 때문에 공격 받았을 때 영역1이 죽어도 다른영역이 침범하지 못하도록 영역을 분리.

인터넷에 노출되는 위협을 최소화하는 것